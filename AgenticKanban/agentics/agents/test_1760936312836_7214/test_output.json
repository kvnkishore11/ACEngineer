{
  "stage": "test",
  "status": "completed",
  "timestamp": "2025-10-19T23:59:04.471317",
  "task_id": "test_1760936312836_7214",
  "test_results": {
    "unit_tests": {
      "status": "passed",
      "tests_run": 12,
      "tests_passed": 11,
      "tests_failed": 1,
      "coverage": 85.5,
      "execution_time": 2.3,
      "failed_tests": [
        {
          "name": "test_edge_case_handling",
          "error": "AssertionError: Expected 'success' but got 'error'",
          "file": "src/__tests__/component.test.js"
        }
      ]
    },
    "integration_tests": {
      "status": "passed",
      "tests_run": 8,
      "tests_passed": 8,
      "tests_failed": 0,
      "execution_time": 15.7,
      "api_tests": {
        "endpoint_tests": 5,
        "passed": 5,
        "response_times": {
          "average": 120,
          "max": 250,
          "min": 85
        }
      },
      "database_tests": {
        "migration_tests": 3,
        "passed": 3
      }
    },
    "lint_checks": {
      "status": "passed",
      "eslint": {
        "errors": 0,
        "warnings": 2,
        "fixable": 1
      },
      "prettier": {
        "files_checked": 15,
        "formatting_issues": 0
      },
      "complexity": {
        "average_complexity": 3.2,
        "max_complexity": 8,
        "high_complexity_functions": 1
      },
      "warnings": [
        {
          "rule": "no-unused-vars",
          "file": "src/components/NewComponent.jsx",
          "line": 42,
          "message": "Variable 'tempVar' is defined but never used"
        },
        {
          "rule": "prefer-const",
          "file": "src/utils/helper.js",
          "line": 15,
          "message": "Variable 'result' should be const"
        }
      ]
    },
    "security_scan": {
      "status": "passed",
      "vulnerabilities": {
        "high": 0,
        "medium": 1,
        "low": 2,
        "info": 1
      },
      "issues": [
        {
          "severity": "medium",
          "type": "Dependency Vulnerability",
          "package": "old-package@1.2.3",
          "description": "Package has known security vulnerability",
          "recommendation": "Update to version 1.2.4 or higher"
        },
        {
          "severity": "low",
          "type": "Code Pattern",
          "file": "src/auth/validator.js",
          "description": "Potential timing attack in password validation",
          "recommendation": "Use constant-time comparison"
        }
      ],
      "dependency_audit": {
        "total_packages": 245,
        "vulnerable_packages": 1,
        "outdated_packages": 12
      }
    }
  },
  "test_report": {
    "overall_success": true,
    "summary": {
      "total_tests": 20,
      "total_passed": 19,
      "total_failed": 1
    },
    "coverage": {
      "line_coverage": 85.5,
      "branch_coverage": 76.95,
      "function_coverage": 94.05000000000001
    },
    "issues_found": [
      {
        "type": "Unit Test Failure",
        "severity": "high",
        "description": "AssertionError: Expected 'success' but got 'error'",
        "file": "src/__tests__/component.test.js"
      },
      {
        "type": "Code Quality",
        "severity": "low",
        "description": "Variable 'tempVar' is defined but never used",
        "file": "src/components/NewComponent.jsx"
      },
      {
        "type": "Code Quality",
        "severity": "low",
        "description": "Variable 'result' should be const",
        "file": "src/utils/helper.js"
      },
      {
        "type": "Dependency Vulnerability",
        "severity": "medium",
        "description": "Package has known security vulnerability",
        "recommendation": "Update to version 1.2.4 or higher"
      },
      {
        "type": "Code Pattern",
        "severity": "low",
        "description": "Potential timing attack in password validation",
        "recommendation": "Use constant-time comparison"
      }
    ],
    "recommendations": [
      "Fix failing unit tests before deployment"
    ],
    "quality_score": 58.0
  },
  "coverage": {
    "line_coverage": 85.5,
    "branch_coverage": 76.95,
    "function_coverage": 94.05000000000001
  },
  "issues_found": [
    {
      "type": "Unit Test Failure",
      "severity": "high",
      "description": "AssertionError: Expected 'success' but got 'error'",
      "file": "src/__tests__/component.test.js"
    },
    {
      "type": "Code Quality",
      "severity": "low",
      "description": "Variable 'tempVar' is defined but never used",
      "file": "src/components/NewComponent.jsx"
    },
    {
      "type": "Code Quality",
      "severity": "low",
      "description": "Variable 'result' should be const",
      "file": "src/utils/helper.js"
    },
    {
      "type": "Dependency Vulnerability",
      "severity": "medium",
      "description": "Package has known security vulnerability",
      "recommendation": "Update to version 1.2.4 or higher"
    },
    {
      "type": "Code Pattern",
      "severity": "low",
      "description": "Potential timing attack in password validation",
      "recommendation": "Use constant-time comparison"
    }
  ]
}